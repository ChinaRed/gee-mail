<!DOCTYPE html>

<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<link rel="stylesheet" href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/bootstrap.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
    window.onload = function(){
 
		//window.geemails = [];
		//loadGeeMails();	

 		//$('body').append('<div class="email-container"></div>');

        for(var i = 0; i < window.geemails.length; i++) {

		   var message = window.geemails[i];
		   displayMessage(message);
           document.getElementById("inbox-counter").innerHTML = window.geemails.length;
            
    	}

    	function addNewMessage (){
    		
    		var message = getNewMessage();
    		console.log (message);

    		displayMessage(message);

    		window.geemails.push(message);
    		console.log (window.geemails.length);
            document.getElementById("inbox-counter").innerHTML = window.geemails.length;
    	}
  	
    	var interval = setInterval(addNewMessage,2000);
    	

    	function displayMessage (message) {
    			var date = message.date;
    			var sender = message.sender;
    			var subject = message.subject;
    			var body = message.body;

    			$('.email-container').append(
                '<div class="email-row">' +
                '<div> &nbsp </div>' +
                '<div class="col-md-2">'  + date + '</div>' +
                '<div class="col-md-2">'  + sender +  '</div>' +
                '<div class="col-md-3">'  + subject +  '</div>' +
                '<div class="col-md-5">'  + body +  '</div>' +
                '<div> &nbsp </div>'
           		)
    	}    	
      
              

}	

	    // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

    </script>

	</head>

	<body>

	<div class="jumbotron">
		<div class="header-container">
			<h1>GeeMail web application inbox</h1>
				<p>Creating a simulation of a little known current e-mail web application you may or may not have heard of</p>
		</div>

	<div class="counter">
		<p>Inbox Counter</p>
			<p id="inbox-counter"></p>
		</div>


	<div class="email-container">
		<div class = "col-md-2"><h4>Date</h4></div>
		<div class = "col-md-2"><h4>Sender</h4></div>
		<div class = "col-md-3"><h4>Subject</h4></div>
		<div class = "col-md-5"><h4>Body</h4></div>
			
	</div>


	</body>

</html>