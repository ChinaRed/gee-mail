<!DOCTYPE html>

<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
		<link rel="stylesheet" href="http://s3.amazonaws.com/codecademy-content/courses/ltp/css/bootstrap.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
    <script>
    window.onload = function(){
 
		//window.geemails = [];
		//loadGeeMails();	

 		//$('body').append('<div class="email-container"></div>');

        for(var i = 0; i < window.geemails.length; i++) {
		   var date = window.geemails[i]['date'];
		   var sender = window.geemails[i]['sender'];
		   var subject = window.geemails[i]['subject'];
		   var body = window.geemails [i]['body'];

        	$('.email-container').append(
                '<div class="email-row">' +
                '<div> &nbsp </div>' +
                '<div class="col-md-2">'  + date + '</div>' +
                '<div class="col-md-2">'  + sender +  '</div>' +
                '<div class="col-md-3">'  + subject +  '</div>' +
                '<div class="col-md-5">'  + body +  '</div>' +
                '<div> &nbsp </div>'
                
            )
    	}

    	function addNewMessage (){
    		
    		var message = getNewMessage();
    		console.log (message);


    		$('.email-container').append(
                '<div class="email-row">' +
                '<div> &nbsp </div>' +
                '<div class="col-md-2">'  + date + '</div>' +
                '<div class="col-md-2">'  + sender +  '</div>' +
                '<div class="col-md-3">'  + subject +  '</div>' +
                '<div class="col-md-5">'  + body +  '</div>' +
                '<div> &nbsp </div>'
            )
    		//get the new message

    		//Add new message to page
    	}
  	
    	var interval = setInterval(addNewMessage,2000);
    	
    		

    	/*
    	window.geemails.push(subject);
    	console.log ("push");
    	*/

    	document.getElementById("inbox-counter").innerHTML = window.geemails.length;


}	

	    // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser

    </script>

	</head>

	<body>

	<div class="jumbotron">
		<div class="header-container">
			<h1>GeeMail web application inbox</h1>
				<p>Creating a simulation of a little known current e-mail web application you may or may not have heard of</p>
		</div>

	<div class="counter">
		<p>Inbox Counter</p>
			<p id="inbox-counter"></p>
		</div>


	<div class="email-container">
		<div class = "col-md-2"><h4>Date</h4></div>
		<div class = "col-md-2"><h4>Sender</h4></div>
		<div class = "col-md-3"><h4>Subject</h4></div>
		<div class = "col-md-5"><h4>Body</h4></div>
			
	</div>


	</body>

</html>